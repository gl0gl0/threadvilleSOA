#include "Threadville.h"

int D[N][N];

void llenarMatriz(){
	int i, j;
	for (i=0; i<N; i++){
		for (j=0; j<N; j++){
			D[i][j] = 9999999;
			Sucesores[i][j] = -1;
		}
	}
	for (i=0; i<N; i++){
		D[i][i] = 0;
		if (i == 27 || i == 55 || i == 83 || i == 111 || i == 139 || i == 167 ||
			i == 339 || i == 367 || i == 395 || i == 423 || i == 451 || i == 479){
			D[i][i-27] = 1; Sucesores[i][i-27] = i-27;
		}
		else if (i == 173 || i == 185 || i == 197 || i == 209 || i == 221 || i == 233 ||
				i == 179 || i == 191 || i == 203 || i == 215 || i == 227 || i == 239 ||
				i == 257 || i == 269 || i == 281 || i == 293 || i == 305 || i == 245 ||
				i == 251 || i == 263 || i == 275 || i == 287 || i == 299 || i == 311 ||
				i == 520 || i == 561 || i == 602 || i == 643 || i == 649 || i == 655 ||
				i == 661 || i == 667 || i == 673 || i == 693 || i == 713){
					D[173][0] = 1; Sucesores[173][0] = 0;
					D[185][28] = 1; Sucesores[185][28] = 28;
					D[197][56] = 1; Sucesores[197][56] = 56;
					D[209][84] = 1; Sucesores[209][84] = 84;
					D[221][112] = 1; Sucesores[221][112] = 112;
					D[233][140] = 1; Sucesores[233][140] = 140;
					D[179][644] = 1;  Sucesores[179][644] = 644;
					D[191][650] = 1; Sucesores[191][650] = 650;
					D[203][656] = 1; Sucesores[203][656] = 656;
					D[215][662] = 1; Sucesores[215][662] = 662;
					D[227][668] = 1; Sucesores[227][668] = 668;
					D[239][696] = 1; Sucesores[239][696] = 696;
					D[257][649] = 1; Sucesores[257][649] = 649;
					D[269][655] = 1; Sucesores[269][655] = 655;
					D[281][661] = 1; Sucesores[281][661] = 661;
					D[293][667] = 1; Sucesores[293][667] = 667;
					D[305][673] = 1; Sucesores[305][673] = 673;
					D[245][676] = 1; Sucesores[245][676] = 676;
					D[251][326] = 1; Sucesores[251][326] = 326;
					D[263][354] = 1; Sucesores[263][354] = 354;
					D[275][382] = 1; Sucesores[275][382] = 382;
					D[287][410] = 1; Sucesores[287][410] = 410;
					D[299][438] = 1; Sucesores[299][438] = 438;
					D[311][466] = 1; Sucesores[311][466] = 466;
					D[520][701] = 1; Sucesores[520][701] = 701;
					D[561][700] = 1; Sucesores[561][700] = 700;
					D[602][679] = 1; Sucesores[602][679] = 679;
					D[643][680] = 1; Sucesores[643][680] = 680;
					D[693][674] = 1; Sucesores[693][674] = 674;
					D[713][694] = 1; Sucesores[713][694] = 694;
					D[649][246] = 1; Sucesores[649][246] = 246;
					D[655][258] = 1; Sucesores[655][258] = 258;
					D[661][270] = 1; Sucesores[661][270] = 270;
					D[667][282] = 1; Sucesores[667][282] = 282;
					D[673][294] = 1; Sucesores[673][294] = 294;
			}
			else{
				if (i == 14 || i == 42 || i == 70 || i == 98 || i == 126 ||
					i == 326 || i == 354 || i == 382 || i == 410 || i == 438){
					D[i][i+21] = 1; Sucesores[i][i+21] = i+21;
				}
				if (i == 28 || i == 56 || i == 84 || i == 112 || i == 140 ||
					i == 340 || i == 368 || i == 396 || i == 424 || i == 452){
					D[i][i-7] = 1; Sucesores[i][i-7] = i-7;
				}
				if (i == 21 || i == 49 || i == 77 || i == 105 || i == 133 || i == 161 ||
					i == 319 || i == 347 || i == 375 || i == 403 || i == 431 || i == 459 ||
					i == 678 || i == 698 || i == 681 || i == 702){
						D[21][174] = 1; Sucesores[21][174] = 174;
						D[49][186] = 1; Sucesores[49][186] = 186;
						D[77][198] = 1; Sucesores[77][198] = 198;
						D[105][210] = 1; Sucesores[105][210] = 210;
						D[133][222] = 1; Sucesores[133][222] = 222;
						D[161][234] = 1; Sucesores[161][234] = 234;
						D[319][240] = 1; Sucesores[319][240] = 240;
						D[347][252] = 1; Sucesores[347][252] = 252;
						D[375][264] = 1; Sucesores[375][264] = 264;
						D[403][276] = 1; Sucesores[403][276] = 276;
						D[431][288] = 1; Sucesores[431][288] = 288;
						D[459][300] = 1; Sucesores[459][300] = 300;
						D[681][168] = 1; Sucesores[681][168] = 168;
						D[702][306] = 1; Sucesores[702][306] = 306;
						D[678][480] = 1; Sucesores[678][480] = 480;
						D[698][562] = 1; Sucesores[698][562] = 562;
						D[678][521] = 1; Sucesores[678][521] = 521;
						D[698][603] = 1; Sucesores[698][603] = 603;
					}
				D[644][180] = 1; Sucesores[644][180] = 180;
				D[650][192] = 1; Sucesores[650][192] = 192;
				D[656][204] = 1; Sucesores[656][204] = 204;
				D[662][216] = 1; Sucesores[662][216] = 216;
				D[668][228] = 1; Sucesores[668][228] = 228;
				D[i][i+1] = 1; Sucesores[i][i+1] = i+1;
			}
			if ((i >= 645 && i <= 649) || (i >= 651 && i <= 655) ||
				(i >= 657 && i <= 661) || (i >= 663 && i <= 667) ||
				(i >= 669 && i <= 673) ){
					D[i][i-1] = 1; Sucesores[i][i-1] = i-1;
				}
				
	}
}

void Floyd(){
	int i, j, k;
	for (k=0; k<N; k++){
		for (i=0; i<N; i++){
			for (j=0; j<N; j++){
				if (D[i][k] + D[k][j] < D[i][j]){
					D[i][j] = D[i][k] + D[k][j];
					Sucesores[i][j] = Sucesores[i][k];
				}
			}
		}
	}
}
